<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Kobe Particle Physics Lab. Members</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="style.css" rel="stylesheet" type="text/css">

    <!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
    <script>const __adobewebfontsappname__="dreamweaver"</script><script src="http://use.edgefonts.net/montserrat:n4:default;source-sans-pro:n2:default.js" type="text/javascript"></script>

</head>

    <body>

        <div id='mainWrapper'>

            <section id='offer'>
                <h2>神戸大学粒子物理学研究室</h2>
                <p>開発版v0.1 Mar. 2020</p>
            </section>

            <div id='content'>
                <section class='mainContent'>
                    <div class='productRow'>
                        <script>
                            const section = document.querySelector('section');
                            let requestURL = "https://raw.githubusercontent.com/ryu1kup/jsonwork/master/status.json"
                            let request = new XMLHttpRequest();
                            request.open('GET', requestURL);

                            request.responseType = 'json';
                            request.send();

                            request.onload = function() {
                                const member_status = request.response;
                                showMemberStatus(member_status);
                            }

                            function showMemberStatus(json){
                                const members = json['members'];
                                for (let i = 0; i < members.length; i++) {
                                    const myArticle = document.createElement('article');
                                    myArticle.className = 'productInfo';

                                    const myDiv = document.createElement('div');
                                    const myImg = document.createElement('img');
                                    myImg.src = '200x200.png';
                                    myImg.alt = 'sample';

                                    const myPara0 = document.createElement('p');
                                    myPara0.className = 'price';

                                    const myPara1 = document.createElement('p');
                                    myPara1.className = 'productContent';

                                    //const myPara2 = document.createElement('p');
                                    //myPara2.className = 'buyButton';

                                    myPara0.textContent = members[i].name;
                                    myPara1.textContent = members[i].position;
                                    //myPara2.textContent = members[i].status;

                                    myDiv.appendChild(myImg);
                                    myArticle.appendChild(myDiv);
                                    myArticle.appendChild(myPara0);
                                    myArticle.appendChild(myPara1);
                                    //myArticle.appendChild(myPara2);

                                    section.appendChild(myArticle);
                                }
                            }
                        </script>
                    </div>
                </section>
            </div>
        </div>
    </body>
</html>
